{"version":3,"sources":["../../src/rules/requireExample.js"],"names":["jsdoc","report","utils","settings","avoidDocs","targetTagName","functionExamples","_","filter","tags","tag","avoidExampleOnConstructors","hasATag","isConstructor","length","forEach","example","exampleContent","compact","name","description","trim","split","meta","schema","additionalProperties","properties","exemptedBy","items","type"],"mappings":";;;;;;;AAAA;;AACA;;;;eAEe,2BAAa,CAAC;AAC3BA,EAAAA,KAD2B;AAE3BC,EAAAA,MAF2B;AAG3BC,EAAAA,KAH2B;AAI3BC,EAAAA;AAJ2B,CAAD,KAKtB;AACJ,MAAID,KAAK,CAACE,SAAN,EAAJ,EAAuB;AACrB;AACD;;AAED,QAAMC,aAAa,GAAG,SAAtB;;AAEA,QAAMC,gBAAgB,GAAGC,gBAAEC,MAAF,CAASR,KAAK,CAACS,IAAf,EAAqB;AAC5CC,IAAAA,GAAG,EAAEL;AADuC,GAArB,CAAzB;;AAIA,MAAIF,QAAQ,CAACQ,0BAAT,KACFT,KAAK,CAACU,OAAN,CAAc,CACZ,OADY,EAEZ,aAFY,CAAd,KAIAV,KAAK,CAACW,aAAN,EALE,CAAJ,EAMG;AACD;AACD;;AAED,MAAI,CAACP,gBAAgB,CAACQ,MAAtB,EAA8B;AAC5Bb,IAAAA,MAAM,CAAC,oBAAoBI,aAApB,GAAoC,eAArC,CAAN;AAEA;AACD;;AAEDC,EAAAA,gBAAgB,CAACS,OAAjB,CAA0BC,OAAD,IAAa;AACpC,UAAMC,cAAc,GAAGV,gBAAEW,OAAF,CAAU,CAACF,OAAO,CAACG,IAAR,GAAe,GAAf,GAAqBH,OAAO,CAACI,WAA9B,EAA2CC,IAA3C,GAAkDC,KAAlD,CAAwD,IAAxD,CAAV,CAAvB;;AAEA,QAAI,CAACL,cAAc,CAACH,MAApB,EAA4B;AAC1Bb,MAAAA,MAAM,CAAC,oBAAoBI,aAApB,GAAoC,eAArC,CAAN;AACD;AACF,GAND;AAOD,CAvCc,EAuCZ;AACDkB,EAAAA,IAAI,EAAE;AACJC,IAAAA,MAAM,EAAE,CACN;AACEC,MAAAA,oBAAoB,EAAE,KADxB;AAEEC,MAAAA,UAAU,EAAE;AACVC,QAAAA,UAAU,EAAE;AACVC,UAAAA,KAAK,EAAE;AACLC,YAAAA,IAAI,EAAE;AADD,WADG;AAIVA,UAAAA,IAAI,EAAE;AAJI;AADF,OAFd;AAUEA,MAAAA,IAAI,EAAE;AAVR,KADM,CADJ;AAeJA,IAAAA,IAAI,EAAE;AAfF;AADL,CAvCY,C","sourcesContent":["import _ from 'lodash';\nimport iterateJsdoc from '../iterateJsdoc';\n\nexport default iterateJsdoc(({\n  jsdoc,\n  report,\n  utils,\n  settings\n}) => {\n  if (utils.avoidDocs()) {\n    return;\n  }\n\n  const targetTagName = 'example';\n\n  const functionExamples = _.filter(jsdoc.tags, {\n    tag: targetTagName\n  });\n\n  if (settings.avoidExampleOnConstructors && (\n    utils.hasATag([\n      'class',\n      'constructor'\n    ]) ||\n    utils.isConstructor()\n  )) {\n    return;\n  }\n\n  if (!functionExamples.length) {\n    report('Missing JSDoc @' + targetTagName + ' declaration.');\n\n    return;\n  }\n\n  functionExamples.forEach((example) => {\n    const exampleContent = _.compact((example.name + ' ' + example.description).trim().split('\\n'));\n\n    if (!exampleContent.length) {\n      report('Missing JSDoc @' + targetTagName + ' description.');\n    }\n  });\n}, {\n  meta: {\n    schema: [\n      {\n        additionalProperties: false,\n        properties: {\n          exemptedBy: {\n            items: {\n              type: 'string'\n            },\n            type: 'array'\n          }\n        },\n        type: 'object'\n      }\n    ],\n    type: 'suggestion'\n  }\n});\n"],"file":"requireExample.js"}