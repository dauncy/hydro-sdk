{"version":3,"sources":["../../src/rules/requireDescription.js"],"names":["jsdoc","report","utils","avoidDocs","targetTagName","getPreferredTagName","functionExamples","_","filter","tags","tag","length","forEach","example","exampleContent","compact","name","description","trim","split","contextDefaults","meta","schema","additionalProperties","properties","contexts","items","type","exemptedBy"],"mappings":";;;;;;;AAAA;;AACA;;;;eAEe,2BAAa,CAAC;AAC3BA,EAAAA,KAD2B;AAE3BC,EAAAA,MAF2B;AAG3BC,EAAAA;AAH2B,CAAD,KAItB;AACJ,MAAIA,KAAK,CAACC,SAAN,EAAJ,EAAuB;AACrB;AACD;;AAED,QAAMC,aAAa,GAAGF,KAAK,CAACG,mBAAN,CAA0B,aAA1B,CAAtB;;AACA,MAAI,CAACD,aAAL,EAAoB;AAClB;AACD;;AAED,QAAME,gBAAgB,GAAGC,gBAAEC,MAAF,CAASR,KAAK,CAACS,IAAf,EAAqB;AAC5CC,IAAAA,GAAG,EAAEN;AADuC,GAArB,CAAzB;;AAIA,MAAI,CAACE,gBAAgB,CAACK,MAAtB,EAA8B;AAC5BV,IAAAA,MAAM,CAAC,oBAAoBG,aAApB,GAAoC,eAArC,CAAN;AAEA;AACD;;AAEDE,EAAAA,gBAAgB,CAACM,OAAjB,CAA0BC,OAAD,IAAa;AACpC,UAAMC,cAAc,GAAGP,gBAAEQ,OAAF,CAAU,CAACF,OAAO,CAACG,IAAR,GAAe,GAAf,GAAqBH,OAAO,CAACI,WAA9B,EAA2CC,IAA3C,GAAkDC,KAAlD,CAAwD,IAAxD,CAAV,CAAvB;;AAEA,QAAI,CAACL,cAAc,CAACH,MAApB,EAA4B;AAC1BV,MAAAA,MAAM,CAAC,oBAAoBG,aAApB,GAAoC,eAArC,CAAN;AACD;AACF,GAND;AAOD,CA/Bc,EA+BZ;AACDgB,EAAAA,eAAe,EAAE,IADhB;AAEDC,EAAAA,IAAI,EAAE;AACJC,IAAAA,MAAM,EAAE,CACN;AACEC,MAAAA,oBAAoB,EAAE,KADxB;AAEEC,MAAAA,UAAU,EAAE;AACVC,QAAAA,QAAQ,EAAE;AACRC,UAAAA,KAAK,EAAE;AACLC,YAAAA,IAAI,EAAE;AADD,WADC;AAIRA,UAAAA,IAAI,EAAE;AAJE,SADA;AAOVC,QAAAA,UAAU,EAAE;AACVF,UAAAA,KAAK,EAAE;AACLC,YAAAA,IAAI,EAAE;AADD,WADG;AAIVA,UAAAA,IAAI,EAAE;AAJI;AAPF,OAFd;AAgBEA,MAAAA,IAAI,EAAE;AAhBR,KADM,CADJ;AAqBJA,IAAAA,IAAI,EAAE;AArBF;AAFL,CA/BY,C","sourcesContent":["import _ from 'lodash';\nimport iterateJsdoc from '../iterateJsdoc';\n\nexport default iterateJsdoc(({\n  jsdoc,\n  report,\n  utils\n}) => {\n  if (utils.avoidDocs()) {\n    return;\n  }\n\n  const targetTagName = utils.getPreferredTagName('description');\n  if (!targetTagName) {\n    return;\n  }\n\n  const functionExamples = _.filter(jsdoc.tags, {\n    tag: targetTagName\n  });\n\n  if (!functionExamples.length) {\n    report('Missing JSDoc @' + targetTagName + ' declaration.');\n\n    return;\n  }\n\n  functionExamples.forEach((example) => {\n    const exampleContent = _.compact((example.name + ' ' + example.description).trim().split('\\n'));\n\n    if (!exampleContent.length) {\n      report('Missing JSDoc @' + targetTagName + ' description.');\n    }\n  });\n}, {\n  contextDefaults: true,\n  meta: {\n    schema: [\n      {\n        additionalProperties: false,\n        properties: {\n          contexts: {\n            items: {\n              type: 'string'\n            },\n            type: 'array'\n          },\n          exemptedBy: {\n            items: {\n              type: 'string'\n            },\n            type: 'array'\n          }\n        },\n        type: 'object'\n      }\n    ],\n    type: 'suggestion'\n  }\n});\n"],"file":"requireDescription.js"}